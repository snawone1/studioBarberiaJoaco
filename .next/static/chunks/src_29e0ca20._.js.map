{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/config/site.ts"],"sourcesContent":["\nimport type { LucideIcon } from 'lucide-react';\n\nexport type NavItem = {\n  title: string;\n  href: string;\n  iconName?: string; \n  disabled?: boolean;\n  external?: boolean;\n};\n\nexport type SiteConfig = {\n  name: string;\n  description: string;\n  mainNav: NavItem[];\n  links: {\n    twitter?: string;\n    instagram?: string;\n    facebook?: string;\n  }\n};\n\nexport const siteConfig: SiteConfig = {\n  name: \"Barberia Joaco\",\n  description: \"Tu experiencia de barbería elevada. Estilo, precisión y cuidado profesional.\",\n  mainNav: [\n    { title: \"Inicio\", href: \"/\", iconName: \"Home\" },\n    { title: \"Productos\", href: \"/products\", iconName: \"ShoppingBag\" },\n    { title: \"Citas\", href: \"/book\", iconName: \"CalendarDays\" },\n    { title: \"Panel Admin\", href: \"/admin\", iconName: \"LayoutDashboard\" },\n  ],\n  links: {\n    //instagram: \"https://instagram.com/joacobarber\",\n  }\n};\n"],"names":[],"mappings":";;;AAsBO,MAAM,aAAyB;IACpC,MAAM;IACN,aAAa;IACb,SAAS;QACP;YAAE,OAAO;YAAU,MAAM;YAAK,UAAU;QAAO;QAC/C;YAAE,OAAO;YAAa,MAAM;YAAa,UAAU;QAAc;QACjE;YAAE,OAAO;YAAS,MAAM;YAAS,UAAU;QAAe;QAC1D;YAAE,OAAO;YAAe,MAAM;YAAU,UAAU;QAAkB;KACrE;IACD,OAAO;IAEP;AACF","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase.ts"],"sourcesContent":["\nimport { initializeApp, getApps, type FirebaseApp } from 'firebase/app';\nimport { getAuth, type Auth } from 'firebase/auth';\nimport { getFirestore, type Firestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDrSCyZX-LRSY3N2wbXKN2wS8YNl4rRtdg\",\n  authDomain: \"joaco-barber.firebaseapp.com\",\n  projectId: \"joaco-barber\",\n  storageBucket: \"joaco-barber.firebasestorage.app\",\n  messagingSenderId: \"787887364483\",\n  appId: \"1:787887364483:web:d0ab6e60f3652cff037eb6\",\n  measurementId: \"G-2166J95XK4\"\n};\n\nlet app: FirebaseApp;\nlet auth: Auth;\nlet firestore: Firestore;\n\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApps()[0]!;\n}\n\nauth = getAuth(app);\nfirestore = getFirestore(app); // Initialize Firestore\n\nexport { app, auth, firestore };\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;IACrB,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AACtB,OAAO;IACL,MAAM,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,GAAG,CAAC,EAAE;AACpB;AAEA,OAAO,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE;AACf,YAAY,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE,MAAM,uBAAuB","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/context/AuthContext.tsx"],"sourcesContent":["\n'use client';\n\nimport type React from 'react';\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport { \n  type User, \n  onAuthStateChanged, \n  signOut as firebaseSignOut, \n  createUserWithEmailAndPassword, \n  signInWithEmailAndPassword,\n  type AuthError\n} from 'firebase/auth';\nimport { auth, firestore } from '@/lib/firebase'; // Importar firestore\nimport { doc, setDoc } from 'firebase/firestore'; // Importar doc y setDoc\nimport { type LoginFormData, type RegisterFormData } from '@/lib/schemas';\n\ninterface AuthContextType {\n  currentUser: User | null;\n  loading: boolean;\n  signup: (data: RegisterFormData) => Promise<User | AuthError | null>;\n  login: (data: LoginFormData) => Promise<User | AuthError | null>;\n  logout: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\ninterface AuthProviderProps {\n  children: React.ReactNode;\n}\n\n// Normalizacion de numeros de telefono\nfunction normalizeArgentinianPhoneNumber(phoneNumber: string): string {\n  // Remove all non-digit characters except a leading '+'\n  let cleaned = phoneNumber.replace(/[^\\d+]/g, '');\n  if (cleaned.startsWith('+')) {\n    // If it already has a country code, assume it's correct or handled\n    // For +549..., ensure it's just +54...\n    if (cleaned.startsWith('+549')) {\n      cleaned = '+54' + cleaned.substring(4);\n    }\n    return cleaned;\n  }\n\n  // Remove leading zeros if any, common in local inputs\n  cleaned = cleaned.replace(/^0+/, '');\n\n  // Typical lengths for Argentinian numbers without country code:\n  // Area code (2-4 digits) + Number (6-8 digits) = Total 8-10 digits.\n  // Mobile numbers often written as 10 digits (e.g., 1123456789) or 11 if '15' was used.\n  // If it looks like a local Argentinian number (usually 10 digits, e.g. 11XXXXXXXX or 2XX XXXXXXX, or 2XXX XXXXXX)\n  // or 8 digits for some regions.\n  if (cleaned.length >= 8 && cleaned.length <= 11 && /^\\d+$/.test(cleaned)) {\n    // Prepend +54. If it's a mobile number like 11XXXXYYYY, some systems expect +54911XXXXYYYY.\n    // For simplicity now, we'll just add +54.\n    // If it starts with '15' (common old mobile prefix), remove it before adding +54,\n    // as '+54 11...' is more standard than '+54 15...'.\n     if (cleaned.startsWith('15') && (cleaned.length === 10 || cleaned.length === 11)) {\n      cleaned = cleaned.substring(2); // Remove '15'\n    }\n    // If after removing '15', the number starts with a common area code (like 11, 221, 341 etc.)\n    // and total length is now appropriate, prepend +54.\n    // A simple heuristic: if it's 8-10 digits now, prepend +54.\n    if (cleaned.length >= 8 && cleaned.length <= 10) {\n       // For mobile numbers, it's common to add a '9' after '+54'.\n       // Example: if number is 1123456789 (Buenos Aires mobile), it becomes +5491123456789\n       // Let's check if it's likely a mobile number (e.g., starts with 11 for BA, or other mobile area codes)\n       // This can get complex. A simpler approach:\n       // If it's 10 digits, assume it's Area Code + Number (e.g. 11 XXXX XXXX or 261 XXX XXXX)\n       // Let's try adding +54 directly for now and see.\n       // If it's likely a mobile (e.g., 10 digits starting with 11, 15, or area codes that are mostly mobile)\n       // For now, a general rule: if 10 digits, add '+549', otherwise '+54' for shorter numbers (might be landlines)\n       if (cleaned.length === 10) {\n         return '+549' + cleaned;\n       }\n       return '+54' + cleaned;\n    }\n  }\n  // If no specific Argentinian rule matched, return the original cleaned number or original if it had '+'\n  return phoneNumber.replace(/[^\\d+]/g, '').startsWith('+') ? phoneNumber.replace(/[^\\d+]/g, '') : cleaned;\n}\n\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  async function signup(data: RegisterFormData): Promise<User | AuthError | null> {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, data.email, data.password);\n      const user = userCredential.user;\n\n      if (user) {\n        const normalizedPhoneNumber = normalizeArgentinianPhoneNumber(data.phoneNumber);\n        \n        const userDocRef = doc(firestore, 'users', user.uid);\n        const userData = {\n          uid: user.uid,\n          email: user.email,\n          fullName: data.fullName,\n          phoneNumber: normalizedPhoneNumber, // Usar telefono ya norm,alizado \n          createdAt: new Date().toISOString(), \n        };\n\n        console.log(\"Attempting to save user data to Firestore:\", userData);\n        try {\n          await setDoc(userDocRef, userData);\n          console.log(\"User data successfully saved to Firestore for UID:\", user.uid);\n        } catch (firestoreError: any) {\n          console.error(\"Error saving user data to Firestore:\", firestoreError);\n          return { code: 'firestore/save-error', message: `User created in Auth, but failed to save data to Firestore: ${firestoreError.message}` } as AuthError;\n        }\n      }\n      return user;\n    } catch (error) {\n      console.error(\"Error signing up with Firebase Auth:\", error);\n      return error as AuthError;\n    }\n  }\n\n  async function login(data: LoginFormData): Promise<User | AuthError | null> {\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, data.email, data.password);\n      return userCredential.user;\n    } catch (error) {\n      console.error(\"Error logging in:\", error);\n      return error as AuthError;\n    }\n  }\n\n  async function logout() {\n    try {\n      await firebaseSignOut(auth);\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n    }\n  }\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe; // Unsubscribe on unmount\n  }, []);\n\n  const value = {\n    currentUser,\n    loading,\n    signup,\n    login,\n    logout,\n  };\n\n  return <AuthContext.Provider value={value}>{!loading && children}</AuthContext.Provider>;\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/main-nav.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport type { NavItem } from '@/config/site';\nimport { cn } from '@/lib/utils';\nimport { Home, ShoppingBag, CalendarDays, LayoutDashboard, type LucideProps } from 'lucide-react';\nimport type React from 'react';\nimport { useAuth } from '@/context/AuthContext';\n\ninterface MainNavProps {\n  items?: NavItem[];\n}\n\nconst iconComponents: { [key: string]: React.FC<LucideProps> } = {\n  Home,\n  ShoppingBag,\n  CalendarDays,\n  LayoutDashboard,\n};\n\nexport function MainNav({ items }: MainNavProps) {\n  const pathname = usePathname();\n  const { currentUser } = useAuth();\n\n  const filteredItems = items?.filter(item => {\n    if (item.href === '/admin') {\n      return currentUser?.email === 'joacoadmin@admin.com';\n    }\n    return true;\n  });\n\n  return (\n    <nav className=\"hidden md:flex items-center gap-1\"> {/* Reduced gap for tighter fit if needed */}\n      {filteredItems?.map(\n        (item, index) => {\n          const IconComponent = item.iconName ? iconComponents[item.iconName] : null;\n          const isActive = pathname === item.href;\n\n          return item.href && (\n            <Link\n              key={index}\n              href={item.href}\n              className={cn(\n                'flex items-center text-sm font-medium transition-colors px-4 py-2 rounded-md', \n                isActive \n                  ? 'bg-secondary text-primary' \n                  : 'text-foreground/80 hover:text-primary/80 hover:bg-secondary/50',\n                item.disabled && 'cursor-not-allowed opacity-80'\n              )}\n            >\n              {IconComponent && <IconComponent className={cn(\n                \"mr-2 h-4 w-4\",\n                isActive ? \"text-primary\" : \"text-foreground/70\"\n              )} />}\n              {item.title}\n            </Link>\n          )\n        }\n      )}\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;;;AARA;;;;;;AAcA,MAAM,iBAA2D;IAC/D,MAAA,sMAAA,CAAA,OAAI;IACJ,aAAA,uNAAA,CAAA,cAAW;IACX,cAAA,yNAAA,CAAA,eAAY;IACZ,iBAAA,+NAAA,CAAA,kBAAe;AACjB;AAEO,SAAS,QAAQ,EAAE,KAAK,EAAgB;;IAC7C,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAE9B,MAAM,gBAAgB,OAAO,OAAO,CAAA;QAClC,IAAI,KAAK,IAAI,KAAK,UAAU;YAC1B,OAAO,aAAa,UAAU;QAChC;QACA,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;YAAoC;YAChD,eAAe,IACd,CAAC,MAAM;gBACL,MAAM,gBAAgB,KAAK,QAAQ,GAAG,cAAc,CAAC,KAAK,QAAQ,CAAC,GAAG;gBACtE,MAAM,WAAW,aAAa,KAAK,IAAI;gBAEvC,OAAO,KAAK,IAAI,kBACd,6LAAC,+JAAA,CAAA,UAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gFACA,WACI,8BACA,kEACJ,KAAK,QAAQ,IAAI;;wBAGlB,+BAAiB,6LAAC;4BAAc,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAC3C,gBACA,WAAW,iBAAiB;;;;;;wBAE7B,KAAK,KAAK;;mBAdN;;;;;YAiBX;;;;;;;AAIR;GAzCgB;;QACG,qIAAA,CAAA,cAAW;QACJ,iIAAA,CAAA,UAAO;;;KAFjB","debugId":null}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,qKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,qKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,qKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,qKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,qKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,qKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 806, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/mobile-nav.tsx"],"sourcesContent":["\n'use client';\n\nimport * as React from 'react';\nimport Link, { type LinkProps } from 'next/link';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { Menu, Scissors, Home, ShoppingBag, CalendarDays, LayoutDashboard, LogIn, LogOut, UserPlus, Loader2, type LucideProps } from 'lucide-react';\nimport { siteConfig, type NavItem } from '@/config/site';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetClose, SheetTrigger } from '@/components/ui/sheet';\nimport { Separator } from '@/components/ui/separator';\nimport { useAuth } from '@/context/AuthContext';\nimport { useToast } from '@/hooks/use-toast';\n\nconst iconComponents: { [key: string]: React.FC<LucideProps> } = {\n  Home,\n  ShoppingBag,\n  CalendarDays,\n  LayoutDashboard,\n  LogIn,\n  UserPlus,\n  LogOut,\n};\n\nexport function MobileNav({ items }: { items?: NavItem[] }) {\n  const [open, setOpen] = React.useState(false);\n  const pathname = usePathname();\n  const router = useRouter();\n  const { currentUser, logout, loading } = useAuth();\n  const { toast } = useToast();\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      toast({ title: 'Cierre de sesión exitoso', description: 'Has cerrado sesión correctamente.' });\n      setOpen(false); // Close the sheet\n      router.push('/');\n    } catch (error) {\n      console.error('Error al cerrar sesión:', error);\n      toast({ title: 'Error', description: 'No se pudo cerrar la sesión.', variant: 'destructive' });\n    }\n  };\n\n  const filteredItems = items?.filter(item => {\n    if (item.href === '/admin') {\n      return currentUser?.email === 'joacoadmin@admin.com';\n    }\n    return true;\n  });\n\n  return (\n    <Sheet open={open} onOpenChange={setOpen}>\n      <SheetTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          className=\"mr-2 px-0 text-base hover:bg-transparent focus-visible:bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 md:hidden text-foreground\"\n        >\n          <Menu className=\"h-6 w-6\" />\n          <span className=\"sr-only\">Toggle Menu</span>\n        </Button>\n      </SheetTrigger>\n      <SheetContent side=\"left\" className=\"pr-0 bg-background text-foreground flex flex-col\">\n        <SheetHeader>\n          <SheetTitle className=\"sr-only\">Navegación Principal</SheetTitle>\n        </SheetHeader>\n        <MobileLink\n          href=\"/\"\n          className=\"flex items-center mb-4 pl-8 pt-2\"\n          onOpenChange={setOpen}\n        >\n          <Scissors className=\"mr-2 h-6 w-6 text-primary\" />\n          <span className=\"font-bold text-xl font-headline\">{siteConfig.name}</span>\n        </MobileLink>\n        \n        <div className=\"flex-grow overflow-y-auto pb-10 pl-8 space-y-2\">\n            {filteredItems?.map(\n              (item) => {\n                const IconComponent = item.iconName ? iconComponents[item.iconName] : null;\n                const isActive = pathname === item.href;\n                return item.href && (\n                  <MobileLink\n                    key={item.href}\n                    href={item.href}\n                    onOpenChange={setOpen}\n                    className={cn(\n                      \"flex items-center py-2 px-3 rounded-md text-lg\", \n                      isActive ? \"bg-secondary text-primary\" : \"text-foreground/80 hover:text-primary hover:bg-secondary/50\"\n                    )}\n                  >\n                    {IconComponent && <IconComponent className={cn(\n                      \"mr-2 h-5 w-5\", \n                       isActive ? \"text-primary\" : \"text-foreground/70\"\n                    )} />}\n                    {item.title}\n                  </MobileLink>\n                )\n              }\n            )}\n        </div>\n\n        <div className=\"mt-auto border-t border-border pt-4 pl-8 pr-4 pb-4 space-y-2\">\n          <Separator className=\"my-2 bg-border/50 -ml-8\" />\n          {loading ? (\n            <Button variant=\"ghost\" disabled className=\"w-full justify-start text-lg px-3 py-2 text-muted-foreground\">\n              <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n              Cargando...\n            </Button>\n          ) : currentUser ? (\n            <Button variant=\"ghost\" onClick={handleLogout} className=\"w-full justify-start text-lg px-3 py-2 text-foreground/80 hover:text-primary hover:bg-secondary/50\">\n              <LogOut className=\"mr-2 h-5 w-5 text-foreground/70 group-hover:text-primary\" />\n              Cerrar Sesión\n            </Button>\n          ) : (\n            <>\n              <MobileLink href=\"/login\" onOpenChange={setOpen} className=\"flex items-center py-2 px-3 rounded-md text-lg text-foreground/80 hover:text-primary hover:bg-secondary/50\">\n                <LogIn className=\"mr-2 h-5 w-5 text-foreground/70 group-hover:text-primary\" />\n                Iniciar Sesión\n              </MobileLink>\n              <MobileLink href=\"/register\" onOpenChange={setOpen} className=\"flex items-center py-2 px-3 rounded-md text-lg text-foreground/80 hover:text-primary hover:bg-secondary/50\">\n                <UserPlus className=\"mr-2 h-5 w-5 text-foreground/70 group-hover:text-primary\" />\n                Registrarse\n              </MobileLink>\n            </>\n          )}\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n\ninterface MobileLinkProps extends LinkProps {\n  onOpenChange?: (open: boolean) => void;\n  children: React.ReactNode;\n  className?: string;\n}\n\nfunction MobileLink({\n  href,\n  onOpenChange,\n  className,\n  children,\n  ...props\n}: MobileLinkProps) {\n  const router = useRouter();\n  return (\n    <Link\n      href={href}\n      onClick={() => {\n        router.push(href.toString());\n        onOpenChange?.(false);\n      }}\n      className={cn('font-medium', className)}\n      {...props}\n    >\n      {children}\n    </Link>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1146, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/actions.ts"],"sourcesContent":["\n'use server';\n\nimport type { AppointmentFormValues, SiteSettingsFormValues, StyleAdvisorFormValues, ProductFormValues, ServiceFormValues, AdminEditUserFormValues, HomePageServiceFormValues } from '@/lib/schemas';\nimport { getStyleRecommendationWithServices } from '@/ai/flows/style-recommendation-with-services';\nimport type { Product } from '@/app/products/page';\nimport { revalidatePath } from 'next/cache';\nimport { firestore } from '@/lib/firebase';\nimport { collection, getDocs, addDoc, deleteDoc, doc, Timestamp, updateDoc, getDoc, query, where, orderBy, setDoc } from 'firebase/firestore';\nimport { ALL_TIME_SLOTS } from '@/lib/constants';\nimport { siteConfig } from '@/config/site';\n\n// Firestore collection references\nconst appointmentsCollectionRef = collection(firestore, 'appointments');\nconst productsCollectionRef = collection(firestore, 'products');\nconst usersCollectionRef = collection(firestore, 'users');\nconst servicesCollectionRef = collection(firestore, 'services'); // For booking page services\nconst timeSlotSettingsCollectionRef = collection(firestore, 'timeSlotSettings');\nconst messageTemplatesCollectionRef = collection(firestore, 'messageTemplates');\nconst appSettingsCollectionRef = collection(firestore, 'appSettings');\nconst homePageServicesCollectionRef = collection(firestore, 'homePageServices'); // For home page services\n\n\n// --- User Types ---\nexport type UserDetail = {\n  id: string;\n  fullName: string;\n  email: string;\n  phoneNumber: string;\n  createdAt: string;\n};\n\n\n// --- Appointment Types ---\nexport type Appointment = {\n  id: string;\n  userId: string;\n  userName?: string;\n  userEmail?: string;\n  userPhone?: string;\n  preferredDate: string;\n  preferredTime: string;\n  services: string[]; // These are IDs from the 'services' collection\n  selectedProducts?: string[]; // New: IDs from the 'products' collection\n  message?: string;\n  status: string;\n  createdAt: string;\n};\n\n// --- Service Type (for booking page) ---\nexport type Service = {\n  id: string;\n  name: string;\n  description: string;\n  price: string;\n  createdAt?: string;\n};\n\n// --- Home Page Service Type ---\nexport type HomePageService = {\n  id: string;\n  name: string;\n  description: string;\n  iconName: string;\n  dataAiHint: string;\n  order: number;\n  createdAt: string;\n};\n\n\n// --- Time Slot Settings Types ---\nexport type TimeSlotSetting = {\n  time: string;\n  isActive: boolean;\n};\n\n// --- Message Template Type ---\nexport type MessageTemplate = {\n  id: string; // e.g., 'confirmation', 'cancellation'\n  content: string;\n};\n\n// --- Site Details Type ---\nexport type SiteDetails = {\n  name: string;\n  description: string;\n};\n\n\n// --- User Management Actions ---\nexport async function getUsers(): Promise<UserDetail[]> {\n  try {\n    const q = query(usersCollectionRef, orderBy('createdAt', 'desc'));\n    const querySnapshot = await getDocs(q);\n\n    if (querySnapshot.empty) {\n      return [];\n    }\n\n    const users = querySnapshot.docs.map(docSnap => {\n      const data = docSnap.data();\n      let createdAtISO: string;\n\n      if (data.createdAt && typeof data.createdAt.toDate === 'function') {\n        createdAtISO = data.createdAt.toDate().toISOString();\n      } else if (data.createdAt && typeof data.createdAt === 'string') {\n        createdAtISO = data.createdAt;\n      } else {\n        createdAtISO = new Date(0).toISOString();\n      }\n\n      const userDetail: UserDetail = {\n        id: docSnap.id,\n        fullName: data.fullName || 'N/A',\n        email: data.email || 'N/A',\n        phoneNumber: data.phoneNumber || 'N/A',\n        createdAt: createdAtISO,\n      };\n      return userDetail;\n    });\n    return users;\n\n  } catch (error: any) {\n    console.error(\"Admin: Error fetching or mapping users from Firestore:\", error);\n    if (error.code === 'failed-precondition') {\n        console.error(\"IMPORTANT: Firestore 'failed-precondition' error for users query. This might mean a composite index is required if you add more complex ordering or filtering. Check Firestore console for index suggestions.\");\n    } else {\n        console.error(\"An unexpected error occurred while fetching users:\", error.message, error.stack);\n    }\n    return [];\n  }\n}\n\nexport async function updateUserDetail(\n  data: { userId: string; fullName: string; phoneNumber: string }\n): Promise<{ success: boolean; message: string }> {\n  console.log(`[updateUserDetail] Called for userId: ${data.userId} with data:`, data);\n  try {\n    const userDocRef = doc(firestore, 'users', data.userId);\n    await updateDoc(userDocRef, {\n      fullName: data.fullName,\n      phoneNumber: data.phoneNumber,\n    });\n    console.log(`[updateUserDetail] User ${data.userId} details updated successfully.`);\n    revalidatePath('/admin');\n    return { success: true, message: 'Detalles del usuario actualizados con éxito.' };\n  } catch (error: any) {\n    console.error(`[updateUserDetail] Error updating user ${data.userId} details:`, error);\n    return { success: false, message: `Error al actualizar los detalles del usuario: ${error.message}` };\n  }\n}\n\n\n// --- Appointment Actions ---\nexport async function submitAppointmentRequest(data: AppointmentFormValues) {\n  console.log(\"[submitAppointmentRequest] Received data with userId:\", data.userId, \"and products:\", data.selectedProducts);\n  try {\n    const clientDate = new Date(data.preferredDate); // data.preferredDate is a Date object from client\n\n    // Construct a new Date object representing midnight UTC of the client's selected date.\n    // We use UTC methods to avoid local server timezone interference.\n    const preferredDateAtUTCMidnight = new Date(\n      Date.UTC(\n        clientDate.getUTCFullYear(),\n        clientDate.getUTCMonth(),\n        clientDate.getUTCDate(),\n        0, 0, 0, 0\n      )\n    );\n    const preferredDateTimestamp = Timestamp.fromDate(preferredDateAtUTCMidnight);\n    console.log(\"[submitAppointmentRequest] Normalized preferredDate to Timestamp (ISO):\", preferredDateTimestamp.toDate().toISOString());\n\n    const qCheck = query(\n      appointmentsCollectionRef,\n      where('preferredDate', '==', preferredDateTimestamp),\n      where('preferredTime', '==', data.preferredTime),\n      where('status', 'in', ['pending', 'confirmed'])\n    );\n\n    const existingAppointmentsSnap = await getDocs(qCheck);\n    if (!existingAppointmentsSnap.empty) {\n      console.log(\"[submitAppointmentRequest] Double booking detected for\", preferredDateTimestamp.toDate().toISOString(), data.preferredTime);\n      return { success: false, message: 'Este horario ya no está disponible. Por favor, elige otro.' };\n    }\n\n    const appointmentData = {\n      userId: data.userId, \n      preferredDate: preferredDateTimestamp,\n      preferredTime: data.preferredTime,\n      services: data.services,\n      selectedProducts: data.selectedProducts || [], // Add selected products\n      message: data.message || '',\n      status: 'pending',\n      createdAt: Timestamp.now(),\n    };\n    console.log(\"[submitAppointmentRequest] Attempting to add appointment to Firestore with data (preferredDate will be a Timestamp object):\", \n      {...appointmentData, preferredDate: `Timestamp(seconds=${preferredDateTimestamp.seconds}, nanoseconds=${preferredDateTimestamp.nanoseconds})` }\n    );\n    await addDoc(appointmentsCollectionRef, appointmentData);\n    console.log(\"[submitAppointmentRequest] Appointment added successfully with userId:\", data.userId);\n    revalidatePath('/book');\n    revalidatePath('/admin');\n    return { success: true, message: 'Solicitud de cita enviada con éxito. Nos pondremos en contacto contigo pronto para confirmar.' };\n  } catch (error)\n{\n    console.error(\"[submitAppointmentRequest] Error submitting appointment to Firestore:\", error);\n    return { success: false, message: 'Error al enviar la solicitud de cita. Por favor, inténtalo de nuevo.' };\n  }\n}\n\nexport async function getAppointments(): Promise<Appointment[]> {\n  try {\n    const qAppointments = query(\n      appointmentsCollectionRef,\n      orderBy('preferredDate', 'desc'),\n      orderBy('createdAt', 'desc')\n    );\n\n    const appointmentSnapshot = await getDocs(qAppointments);\n\n    if (appointmentSnapshot.empty) {\n      return [];\n    }\n\n    const userIds = [...new Set(appointmentSnapshot.docs.map(docSnap => docSnap.data().userId as string).filter(id => !!id))];\n    let usersMap: Map<string, { fullName?: string; email?: string; phoneNumber?: string }> = new Map();\n\n    if (userIds.length > 0) {\n      const MAX_USER_IDS_PER_QUERY = 30; \n      const userBatches: string[][] = [];\n      for (let i = 0; i < userIds.length; i += MAX_USER_IDS_PER_QUERY) {\n        userBatches.push(userIds.slice(i, i + MAX_USER_IDS_PER_QUERY));\n      }\n\n      for (const batchUserIds of userBatches) {\n        if (batchUserIds.length === 0) continue; \n        const qUsers = query(collection(firestore, 'users'), where('uid', 'in', batchUserIds));\n        const userSnapshot = await getDocs(qUsers);\n        userSnapshot.docs.forEach(docSnap => {\n          const userData = docSnap.data();\n          usersMap.set(userData.uid, { \n            fullName: userData.fullName,\n            email: userData.email,\n            phoneNumber: userData.phoneNumber\n          });\n        });\n      }\n    }\n\n    const appointments = appointmentSnapshot.docs.map(docSnap => {\n      const data = docSnap.data();\n      let preferredDateISO: string;\n      let createdAtISO: string;\n\n      if (data.preferredDate && typeof data.preferredDate.toDate === 'function') {\n        preferredDateISO = data.preferredDate.toDate().toISOString();\n      } else {\n        // This case should ideally not happen if data is saved correctly as Timestamp\n        preferredDateISO = new Date(0).toISOString(); \n      }\n\n      if (data.createdAt && typeof data.createdAt.toDate === 'function') {\n        createdAtISO = data.createdAt.toDate().toISOString();\n      } else if (data.createdAt && typeof data.createdAt === 'string') {\n        // Fallback for potentially incorrectly saved string dates\n        createdAtISO = data.createdAt; \n      } else {\n        createdAtISO = new Date(0).toISOString();\n      }\n\n      const userDetails = usersMap.get(data.userId) || {};\n\n      const appointment: Appointment = {\n        id: docSnap.id,\n        userId: data.userId || 'Unknown User',\n        userName: userDetails.fullName || 'Nombre no disponible',\n        userEmail: userDetails.email || 'Email no disponible',\n        userPhone: userDetails.phoneNumber || 'Teléfono no disponible',\n        preferredDate: preferredDateISO,\n        preferredTime: data.preferredTime || 'N/A',\n        services: Array.isArray(data.services) ? data.services : [],\n        selectedProducts: Array.isArray(data.selectedProducts) ? data.selectedProducts : [],\n        message: data.message || '',\n        status: data.status || 'unknown',\n        createdAt: createdAtISO,\n      };\n      return appointment;\n    });\n    return appointments;\n\n  } catch (error: any) {\n    console.error(\"Admin: Error fetching or mapping appointments from Firestore:\", error);\n     if (error.code === 'failed-precondition') {\n        console.error(\"IMPORTANT: Firestore 'failed-precondition' error for admin appointments query. This OFTEN means a composite index is required for your query (e.g., for orderBy clauses on 'preferredDate' and 'createdAt'). Check the DETAILED error message in the Firebase/Next.js server console. It usually provides a link to create the missing index.\");\n    } else {\n        console.error(\"An unexpected error occurred while fetching admin appointments:\", error.message, error.stack);\n    }\n    return [];\n  }\n}\n\nexport async function getUserAppointments(userId: string): Promise<Appointment[]> {\n  console.log(`[getUserAppointments] Top: Attempting to fetch appointments for user ID: ${userId}`);\n  if (!userId) {\n    console.warn(\"[getUserAppointments] Called with no userId. Returning empty array.\");\n    return [];\n  }\n  try {\n    console.log(`[getUserAppointments] Constructing query for 'appointments', where 'userId' == '${userId}', orderBy 'preferredDate' asc, 'createdAt' desc.`);\n    const qUserAppointments = query(\n      appointmentsCollectionRef,\n      where('userId', '==', userId),\n      orderBy('preferredDate', 'asc'), \n      orderBy('createdAt', 'desc')\n    );\n\n    console.log(`[getUserAppointments] Executing query...`);\n    const appointmentSnapshot = await getDocs(qUserAppointments);\n    console.log(`[getUserAppointments] Query executed. Found ${appointmentSnapshot.docs.length} appointment documents for user ${userId}.`);\n\n    if (appointmentSnapshot.empty) {\n      console.log(`[getUserAppointments] Snapshot is empty. Will try querying without orderBy to check for data/index issues.`);\n      const qSimpleUserAppointments = query(appointmentsCollectionRef, where('userId', '==', userId));\n      const simpleSnapshot = await getDocs(qSimpleUserAppointments);\n      if (simpleSnapshot.empty) {\n        console.log(`[getUserAppointments] Simple query (no orderBy) also found 0 documents for user ${userId}. This suggests no data or userId mismatch.`);\n      } else {\n        console.warn(`[getUserAppointments] SIMPLE query (no orderBy) FOUND ${simpleSnapshot.docs.length} documents for user ${userId}. This STRONGLY SUGGESTS an issue with the COMPOSITE INDEX for 'userId' (asc), 'preferredDate' (asc) and 'createdAt' (desc). Please verify the index in Firestore, or check the server logs for a link to create it.`);\n        simpleSnapshot.docs.forEach(docSnap => {\n           console.log(`[getUserAppointments] Raw data from SIMPLE query for doc ${docSnap.id}:`, JSON.stringify(docSnap.data()));\n        });\n      }\n      return [];\n    }\n\n    console.log(`[getUserAppointments] Mapping ${appointmentSnapshot.docs.length} documents...`);\n    const appointmentsPromises = appointmentSnapshot.docs.map(async (docSnap) => {\n      const data = docSnap.data();\n\n      let preferredDateISO: string;\n      let createdAtISO: string;\n\n      if (data.preferredDate && typeof data.preferredDate.toDate === 'function') {\n        preferredDateISO = data.preferredDate.toDate().toISOString();\n      } else {\n        preferredDateISO = new Date(0).toISOString();\n      }\n\n      if (data.createdAt && typeof data.createdAt.toDate === 'function') {\n        createdAtISO = data.createdAt.toDate().toISOString();\n      } else if (data.createdAt && typeof data.createdAt === 'string') {\n        createdAtISO = data.createdAt;\n      } else {\n        createdAtISO = new Date(0).toISOString();\n      }\n\n      const appointment: Appointment = {\n        id: docSnap.id,\n        userId: data.userId,\n        preferredDate: preferredDateISO,\n        preferredTime: data.preferredTime || 'N/A',\n        services: Array.isArray(data.services) ? data.services : [],\n        selectedProducts: Array.isArray(data.selectedProducts) ? data.selectedProducts : [],\n        message: data.message || '',\n        status: data.status || 'unknown',\n        createdAt: createdAtISO,\n      };\n      return appointment;\n    });\n\n    const appointments = await Promise.all(appointmentsPromises);\n    console.log(`[getUserAppointments] Successfully mapped ${appointments.length} appointments for user ${userId}. Final appointments count: ${appointments.length}`);\n    return appointments;\n\n  } catch (error: any) {\n    console.error(`[getUserAppointments] Error fetching appointments for user ${userId}:`, error.message);\n    if (error.code === 'failed-precondition') {\n      console.error(`[getUserAppointments] Firestore 'failed-precondition' error. A composite index on 'userId' (asc), 'preferredDate' (asc), 'createdAt' (desc) is likely required in the 'appointments' collection. Check Firestore console for index suggestions, or the link usually provided in the detailed error message in the Firebase/Next.js server console. Error details: ${error.toString()}`);\n    } else if (error.code === 'permission-denied') {\n      console.error(\"[getUserAppointments] Firestore 'permission-denied' error. Check your Firestore security rules to ensure the authenticated user has read access to their appointments.\");\n    } else {\n      console.error(\"[getUserAppointments] An unexpected error occurred:\", error);\n    }\n    return [];\n  }\n}\n\n\nexport async function updateAppointmentStatus(\n  appointmentId: string,\n  newStatus: 'pending' | 'confirmed' | 'cancelled' | 'completed',\n  currentUserId?: string \n) {\n  console.log(`[updateAppointmentStatus] Called for ID: ${appointmentId} to status: ${newStatus}. CurrentUserID: ${currentUserId}`);\n  try {\n    const appointmentDocRef = doc(firestore, 'appointments', appointmentId);\n\n    if (currentUserId && newStatus === 'cancelled') {\n      const appointmentSnap = await getDoc(appointmentDocRef);\n      if (!appointmentSnap.exists()) {\n        console.warn(`[updateAppointmentStatus] Appointment ${appointmentId} not found for user cancellation.`);\n        return { success: false, message: 'La cita no fue encontrada.' };\n      }\n      const appointmentData = appointmentSnap.data();\n      if (appointmentData.userId !== currentUserId) {\n        console.warn(`[updateAppointmentStatus] User ${currentUserId} does not own appointment ${appointmentId} (owner: ${appointmentData.userId}).`);\n        return { success: false, message: 'No tienes permiso para cancelar esta cita.' };\n      }\n      if (appointmentData.status !== 'pending' && appointmentData.status !== 'confirmed') {\n        console.warn(`[updateAppointmentStatus] Appointment ${appointmentId} is not 'pending' or 'confirmed' (status: ${appointmentData.status}), cannot be cancelled by user.`);\n        return { success: false, message: 'Solo puedes solicitar cancelar citas que estén pendientes o confirmadas. Para otros casos, contacta al administrador.' };\n      }\n      console.log(`[updateAppointmentStatus] User ${currentUserId} is cancelling their own ${appointmentData.status} appointment ${appointmentId}.`);\n    } else if (currentUserId && newStatus !== 'cancelled') {\n      console.warn(`[updateAppointmentStatus] User ${currentUserId} attempted to change status to ${newStatus} for appointment ${appointmentId}. Not allowed through this specific user-facing cancel action.`);\n      return { success: false, message: 'No tienes permiso para realizar esta acción.' };\n    }\n\n    await updateDoc(appointmentDocRef, { status: newStatus });\n    console.log(`[updateAppointmentStatus] Appointment ${appointmentId} status updated to ${newStatus} in Firestore.`);\n    revalidatePath('/admin'); \n    revalidatePath('/book');  \n    return { success: true, message: `Estado de la cita actualizado a ${newStatus}.` };\n  } catch (error) {\n    console.error(`[updateAppointmentStatus] Error updating appointment ${appointmentId} status in Firestore:`, error);\n    return { success: false, message: 'Error al actualizar el estado de la cita.' };\n  }\n}\n\n\nexport async function getBookedSlotsForDate(date: Date): Promise<string[]> {\n  try {\n    // date parameter is a JS Date object from the client's calendar selection\n    // Ensure we are comparing against midnight UTC of the selected date\n    const targetDateAtUTCMidnight = new Date(\n      Date.UTC(\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        0, 0, 0, 0\n      )\n    );\n\n    const q = query(\n      appointmentsCollectionRef,\n      where('preferredDate', '==', Timestamp.fromDate(targetDateAtUTCMidnight)),\n      where('status', 'in', ['pending', 'confirmed'])\n    );\n    const querySnapshot = await getDocs(q);\n    const bookedSlots = querySnapshot.docs.map(docSnap => docSnap.data().preferredTime as string);\n    // console.log(`[getBookedSlotsForDate] Date: ${date.toISOString()}, UTC Midnight: ${targetDateAtUTCMidnight.toISOString()}, Booked Slots:`, bookedSlots);\n    return bookedSlots;\n  } catch (error) {\n    console.error(\"Error fetching booked slots:\", error);\n    return [];\n  }\n}\n\n\n// --- AI Style Advice Actions ---\nexport async function getAIStyleAdvice(data: StyleAdvisorFormValues) {\n  try {\n    const recommendation = await getStyleRecommendationWithServices({\n      hairType: data.hairType,\n      faceShape: data.faceShape,\n      preferences: data.stylePreferences,\n    });\n    return { success: true, data: recommendation };\n  } catch (error) {\n    console.error('Error getting AI style advice:', error);\n    return { success: false, message: 'Failed to get style advice. Please try again later.' };\n  }\n}\n\n// --- Site Settings Actions ---\nexport async function getSiteDetails(): Promise<SiteDetails> {\n  try {\n    const siteDetailsDocRef = doc(appSettingsCollectionRef, 'siteDetails');\n    const docSnap = await getDoc(siteDetailsDocRef);\n    if (docSnap.exists()) {\n      const data = docSnap.data();\n      return {\n        name: data.siteName || siteConfig.name,\n        description: data.siteDescription || siteConfig.description,\n      };\n    }\n    return { name: siteConfig.name, description: siteConfig.description };\n  } catch (error) {\n    console.error(\"Error fetching site details:\", error);\n    return { name: siteConfig.name, description: siteConfig.description };\n  }\n}\n\nexport async function submitSiteSettings(data: SiteSettingsFormValues): Promise<{ success: boolean; message: string }> {\n  try {\n    const siteDetailsDocRef = doc(appSettingsCollectionRef, 'siteDetails');\n    await setDoc(siteDetailsDocRef, {\n      siteName: data.siteName,\n      siteDescription: data.siteDescription,\n    }, { merge: true });\n    \n    revalidatePath('/admin/settings'); \n    revalidatePath('/'); \n    revalidatePath('/layout'); \n\n    return { success: true, message: 'Configuración del sitio guardada con éxito. Los cambios pueden tardar unos momentos en reflejarse completamente.' };\n  } catch (error: any) {\n    console.error(\"Error saving site settings to Firestore:\", error);\n    return { success: false, message: `Error al guardar la configuración del sitio: ${error.message}` };\n  }\n}\n\n\n// --- Product Management Actions ---\nexport async function getProducts(): Promise<Product[]> {\n  try {\n    const q = query(productsCollectionRef, orderBy('createdAt', 'desc'));\n    const querySnapshot = await getDocs(q);\n    const products = querySnapshot.docs.map(docSnap => {\n      const data = docSnap.data();\n      let imageSrcVal = 'https://placehold.co/400x400.png';\n      if (typeof data.imageSrc === 'string' && (data.imageSrc.startsWith('http://') || data.imageSrc.startsWith('https://'))) {\n        imageSrcVal = data.imageSrc;\n      }\n\n      let createdAtValue: string;\n      if (data.createdAt && typeof data.createdAt.toDate === 'function') {\n        createdAtValue = data.createdAt.toDate().toISOString();\n      } else if (data.createdAt && typeof data.createdAt === 'string') {\n        createdAtValue = data.createdAt;\n      } else {\n        createdAtValue = new Date(0).toISOString(); \n      }\n\n      return {\n        id: docSnap.id,\n        name: data.name || 'Unnamed Product',\n        description: data.description || '',\n        price: data.price || 'ARS$ 0',\n        imageSrc: imageSrcVal,\n        aiHint: data.aiHint || '',\n        stock: typeof data.stock === 'number' ? data.stock : 0,\n        createdAt: createdAtValue,\n      } as Product;\n    });\n    return products;\n  } catch (error) {\n    console.error(\"Error fetching products from Firestore:\", error);\n    return [];\n  }\n}\n\nexport async function addProduct(data: ProductFormValues) {\n  try {\n    const productDataToAdd = {\n      name: data.name,\n      description: data.description,\n      price: data.price,\n      imageSrc: data.imageSrc,\n      aiHint: data.aiHint,\n      stock: data.stock ?? 0,\n      createdAt: Timestamp.now()\n    };\n    const docRef = await addDoc(productsCollectionRef, productDataToAdd);\n    const newProduct: Product = {\n      id: docRef.id,\n      ...productDataToAdd,\n      createdAt: productDataToAdd.createdAt.toDate().toISOString(),\n    };\n    revalidatePath('/products');\n    revalidatePath('/admin/settings');\n    revalidatePath('/admin');\n    return { success: true, message: 'Producto añadido con éxito a Firestore.', product: newProduct };\n  } catch (error) {\n    console.error(\"Error adding product to Firestore:\", error);\n    return { success: false, message: 'Error al añadir el producto a Firestore. Inténtalo de nuevo.' };\n  }\n}\n\nexport async function updateProduct(data: ProductFormValues) {\n  if (!data.id) {\n    return { success: false, message: 'Product ID is missing for update.' };\n  }\n  try {\n    const productDocRef = doc(firestore, 'products', data.id);\n    const productDataToUpdate = {\n      name: data.name,\n      description: data.description,\n      price: data.price,\n      imageSrc: data.imageSrc,\n      aiHint: data.aiHint,\n      stock: data.stock ?? 0,\n    };\n    await updateDoc(productDocRef, productDataToUpdate);\n    const updatedDocSnap = await getDoc(productDocRef);\n    if (!updatedDocSnap.exists()) {\n        return { success: false, message: 'Failed to retrieve updated product.' };\n    }\n    const updatedData = updatedDocSnap.data();\n    let imageSrcVal = 'https://placehold.co/400x400.png';\n    if (typeof updatedData.imageSrc === 'string' && (updatedData.imageSrc.startsWith('http://') || updatedData.imageSrc.startsWith('https://'))) {\n        imageSrcVal = updatedData.imageSrc;\n    }\n    \n    let createdAtValue: string | undefined = undefined;\n    if (updatedData.createdAt && typeof updatedData.createdAt.toDate === 'function') {\n      createdAtValue = updatedData.createdAt.toDate().toISOString();\n    } else if (updatedData.createdAt && typeof updatedData.createdAt === 'string') {\n      createdAtValue = updatedData.createdAt;\n    }\n\n\n    const updatedProduct: Product = {\n      id: updatedDocSnap.id,\n      name: updatedData.name,\n      description: updatedData.description,\n      price: updatedData.price,\n      imageSrc: imageSrcVal,\n      aiHint: updatedData.aiHint,\n      stock: updatedData.stock,\n      createdAt: createdAtValue,\n    };\n    revalidatePath('/products');\n    revalidatePath('/admin/settings');\n    revalidatePath('/admin');\n    return { success: true, message: 'Producto actualizado con éxito.', product: updatedProduct };\n  } catch (error) {\n    console.error(\"Error updating product in Firestore:\", error);\n    return { success: false, message: 'Error al actualizar el producto. Inténtalo de nuevo.' };\n  }\n}\n\nexport async function deleteProduct(productId: string) {\n  try {\n    const productDocRef = doc(firestore, 'products', productId);\n    await deleteDoc(productDocRef);\n    revalidatePath('/products');\n    revalidatePath('/admin/settings');\n    revalidatePath('/admin');\n    return { success: true, message: 'Producto eliminado con éxito de Firestore.' };\n  } catch (error) {\n    console.error(\"Error deleting product from Firestore:\", error);\n    return { success: false, message: 'Error al eliminar el producto de Firestore. Inténtalo de nuevo.' };\n  }\n}\n\n\n// --- Service Management Actions (for booking page) ---\nexport async function getServices(): Promise<Service[]> {\n  try {\n    const q = query(servicesCollectionRef, orderBy('name', 'asc'));\n    const querySnapshot = await getDocs(q);\n    const services = querySnapshot.docs.map(docSnap => {\n      const data = docSnap.data();\n      let createdAtValue: string | undefined = undefined;\n      if (data.createdAt && typeof data.createdAt.toDate === 'function') {\n        createdAtValue = data.createdAt.toDate().toISOString();\n      } else if (data.createdAt && typeof data.createdAt === 'string') {\n        createdAtValue = data.createdAt;\n      }\n      return {\n        id: docSnap.id,\n        name: data.name || 'Unnamed Service',\n        description: data.description || '',\n        price: data.price || 'ARS$ 0',\n        createdAt: createdAtValue,\n      } as Service;\n    });\n    return services;\n  } catch (error) {\n    console.error(\"Error fetching services from Firestore:\", error);\n    return [];\n  }\n}\n\nexport async function addService(data: ServiceFormValues) {\n  try {\n    const serviceDataToAdd = {\n      name: data.name,\n      description: data.description,\n      price: data.price,\n      createdAt: Timestamp.now()\n    };\n    const docRef = await addDoc(servicesCollectionRef, serviceDataToAdd);\n    const newService: Service = {\n      id: docRef.id,\n      ...serviceDataToAdd,\n      createdAt: serviceDataToAdd.createdAt.toDate().toISOString(),\n    };\n    revalidatePath('/admin/settings');\n    revalidatePath('/book');\n    return { success: true, message: 'Servicio añadido con éxito.', service: newService };\n  } catch (error) {\n    console.error(\"Error adding service to Firestore:\", error);\n    return { success: false, message: 'Error al añadir el servicio.' };\n  }\n}\n\nexport async function updateService(data: ServiceFormValues) {\n  if (!data.id) {\n    return { success: false, message: 'Service ID is missing for update.' };\n  }\n  try {\n    const serviceDocRef = doc(firestore, 'services', data.id);\n    const serviceDataToUpdate = {\n      name: data.name,\n      description: data.description,\n      price: data.price,\n    };\n    await updateDoc(serviceDocRef, serviceDataToUpdate);\n\n    const updatedDocSnap = await getDoc(serviceDocRef);\n     if (!updatedDocSnap.exists()) {\n        return { success: false, message: 'Failed to retrieve updated service.' };\n    }\n    const updatedData = updatedDocSnap.data();\n    let createdAtValue: string | undefined = undefined;\n    if (updatedData.createdAt && typeof updatedData.createdAt.toDate === 'function') {\n      createdAtValue = updatedData.createdAt.toDate().toISOString();\n    } else if (updatedData.createdAt && typeof updatedData.createdAt === 'string') {\n      createdAtValue = updatedData.createdAt;\n    }\n    const updatedService: Service = {\n      id: updatedDocSnap.id,\n      name: updatedData.name,\n      description: updatedData.description,\n      price: updatedData.price,\n      createdAt: createdAtValue,\n    };\n\n    revalidatePath('/admin/settings');\n    revalidatePath('/book');\n    return { success: true, message: 'Servicio actualizado con éxito.', service: updatedService };\n  } catch (error) {\n    console.error(\"Error updating service in Firestore:\", error);\n    return { success: false, message: 'Error al actualizar el servicio.' };\n  }\n}\n\nexport async function deleteService(serviceId: string) {\n  try {\n    const serviceDocRef = doc(firestore, 'services', serviceId);\n    await deleteDoc(serviceDocRef);\n    revalidatePath('/admin/settings');\n    revalidatePath('/book');\n    return { success: true, message: 'Servicio eliminado con éxito.' };\n  } catch (error) {\n    console.error(\"Error deleting service from Firestore:\", error);\n    return { success: false, message: 'Error al eliminar el servicio.' };\n  }\n}\n\n// --- Home Page Service Card Actions ---\nexport async function getHomePageServices(): Promise<HomePageService[]> {\n  try {\n    const q = query(homePageServicesCollectionRef, orderBy('order', 'asc'), orderBy('createdAt', 'desc'));\n    const querySnapshot = await getDocs(q);\n    const homeServices = querySnapshot.docs.map(docSnap => {\n      const data = docSnap.data();\n      let createdAtValue: string;\n      if (data.createdAt && typeof data.createdAt.toDate === 'function') {\n        createdAtValue = data.createdAt.toDate().toISOString();\n      } else if (data.createdAt && typeof data.createdAt === 'string') {\n        createdAtValue = data.createdAt;\n      } else {\n        createdAtValue = new Date(0).toISOString(); \n      }\n      return {\n        id: docSnap.id,\n        name: data.name || 'Unnamed Service',\n        description: data.description || '',\n        iconName: data.iconName || 'Scissors', \n        dataAiHint: data.dataAiHint || 'service',\n        order: typeof data.order === 'number' ? data.order : 0,\n        createdAt: createdAtValue,\n      } as HomePageService;\n    });\n    return homeServices;\n  } catch (error: any) {\n    console.error(\"Error fetching home page services from Firestore:\", error);\n    if (error.code === 'failed-precondition') {\n        console.error(\"IMPORTANT: Firestore 'failed-precondition' error for homePageServices query. This might mean a composite index on 'order' (asc) and 'createdAt' (desc) is required in 'homePageServices' collection. Check Firestore console.\");\n    }\n    return [];\n  }\n}\n\nexport async function addHomePageService(data: HomePageServiceFormValues) {\n  try {\n    const serviceDataToAdd = {\n      name: data.name,\n      description: data.description,\n      iconName: data.iconName,\n      dataAiHint: data.dataAiHint,\n      order: data.order ?? 0,\n      createdAt: Timestamp.now()\n    };\n    const docRef = await addDoc(homePageServicesCollectionRef, serviceDataToAdd);\n    const newService: HomePageService = {\n      id: docRef.id,\n      ...serviceDataToAdd,\n      createdAt: serviceDataToAdd.createdAt.toDate().toISOString(),\n    };\n    revalidatePath('/');\n    revalidatePath('/admin/settings');\n    return { success: true, message: 'Servicio de página de inicio añadido con éxito.', service: newService };\n  } catch (error) {\n    console.error(\"Error adding home page service to Firestore:\", error);\n    return { success: false, message: 'Error al añadir el servicio de página de inicio.' };\n  }\n}\n\nexport async function updateHomePageService(data: HomePageServiceFormValues) {\n  if (!data.id) {\n    return { success: false, message: 'Home Page Service ID is missing for update.' };\n  }\n  try {\n    const serviceDocRef = doc(firestore, 'homePageServices', data.id);\n    const serviceDataToUpdate = {\n      name: data.name,\n      description: data.description,\n      iconName: data.iconName,\n      dataAiHint: data.dataAiHint,\n      order: data.order ?? 0,\n    };\n    await updateDoc(serviceDocRef, serviceDataToUpdate);\n\n    const updatedDocSnap = await getDoc(serviceDocRef);\n     if (!updatedDocSnap.exists()) {\n        return { success: false, message: 'Failed to retrieve updated home page service.' };\n    }\n    const updatedData = updatedDocSnap.data();\n    let createdAtValue: string;\n    if (updatedData.createdAt && typeof updatedData.createdAt.toDate === 'function') {\n        createdAtValue = updatedData.createdAt.toDate().toISOString();\n    } else if (updatedData.createdAt && typeof updatedData.createdAt === 'string') {\n        createdAtValue = updatedData.createdAt;\n    } else {\n        createdAtValue = new Date(0).toISOString(); \n    }\n\n    const updatedService: HomePageService = {\n      id: updatedDocSnap.id,\n      name: updatedData.name,\n      description: updatedData.description,\n      iconName: updatedData.iconName,\n      dataAiHint: updatedData.dataAiHint,\n      order: updatedData.order,\n      createdAt: createdAtValue,\n    };\n\n    revalidatePath('/');\n    revalidatePath('/admin/settings');\n    return { success: true, message: 'Servicio de página de inicio actualizado con éxito.', service: updatedService };\n  } catch (error) {\n    console.error(\"Error updating home page service in Firestore:\", error);\n    return { success: false, message: 'Error al actualizar el servicio de página de inicio.' };\n  }\n}\n\nexport async function deleteHomePageService(serviceId: string) {\n  try {\n    const serviceDocRef = doc(firestore, 'homePageServices', serviceId);\n    await deleteDoc(serviceDocRef);\n    revalidatePath('/');\n    revalidatePath('/admin/settings');\n    return { success: true, message: 'Servicio de página de inicio eliminado con éxito.' };\n  } catch (error) {\n    console.error(\"Error deleting home page service from Firestore:\", error);\n    return { success: false, message: 'Error al eliminar el servicio de página de inicio.' };\n  }\n}\n\n\n// --- Time Slot Settings Actions ---\nexport async function getTimeSlotSettings(): Promise<TimeSlotSetting[]> {\n  try {\n    const snapshot = await getDocs(timeSlotSettingsCollectionRef);\n    const savedSettingsMap = new Map<string, boolean>();\n    snapshot.forEach(docSnap => {\n      savedSettingsMap.set(docSnap.id, docSnap.data().isActive as boolean);\n    });\n\n    const settings = ALL_TIME_SLOTS.map(time => ({\n      time,\n      isActive: savedSettingsMap.get(time) ?? true, // Default to true if not in Firestore\n    }));\n    return settings;\n  } catch (error) {\n    console.error(\"Error fetching time slot settings:\", error);\n    return ALL_TIME_SLOTS.map(time => ({ time, isActive: true })); // Fallback on error\n  }\n}\n\nexport async function updateTimeSlotSetting(time: string, isActive: boolean) {\n  try {\n    const settingDocRef = doc(timeSlotSettingsCollectionRef, time);\n    await setDoc(settingDocRef, { time, isActive });\n    revalidatePath('/admin/settings');\n    revalidatePath('/book');\n    return { success: true, message: `Time slot ${time} ${isActive ? 'activated' : 'deactivated'}.` };\n  } catch (error) {\n    console.error(\"Error updating time slot setting:\", error);\n    return { success: false, message: 'Failed to update time slot setting.' };\n  }\n}\n\n// --- WhatsApp Message Template & Admin Contact Actions ---\nconst DEFAULT_CONFIRMATION_TEMPLATE = `Hola {{clientName}}, tu cita en ${siteConfig.name} para el {{appointmentDate}} a las {{appointmentTime}} ha sido CONFIRMADA. Servicios: {{servicesList}}. Productos: {{productsList}}. ¡Te esperamos!`;\nconst DEFAULT_CANCELLATION_TEMPLATE = `Hola {{clientName}}, lamentamos informarte que tu cita en ${siteConfig.name} para el {{appointmentDate}} a las {{appointmentTime}} (Servicios: {{servicesList}}, Productos: {{productsList}}) ha sido CANCELADA. Por favor, contáctanos si deseas reprogramar.`;\nconst DEFAULT_ADMIN_CONTACT_CANCELLATION_TEMPLATE = `Hola ${siteConfig.name}, quisiera solicitar la cancelación de mi cita.\\nCliente: {{clientName}}\\nFecha: {{appointmentDate}}\\nHora: {{appointmentTime}}\\nServicios: {{servicesList}}\\nProductos: {{productsList}}\\nGracias.`;\nconst DEFAULT_ADMIN_CONTACT_QUERY_TEMPLATE = `Hola ${siteConfig.name}, tengo una consulta sobre mi cita.\\nCliente: {{clientName}}\\nFecha: {{appointmentDate}}\\nHora: {{appointmentTime}}\\nServicios: {{servicesList}}\\nProductos: {{productsList}}\\nMi consulta es: [ESCRIBE TU CONSULTA AQUÍ]\\nGracias.`;\n\nexport type MessageTemplateId = 'confirmation' | 'cancellation' | 'adminContactCancellationRequest' | 'adminContactQuery';\n\nexport async function getMessageTemplate(templateId: MessageTemplateId): Promise<string> {\n  try {\n    const templateDocRef = doc(messageTemplatesCollectionRef, templateId);\n    const docSnap = await getDoc(templateDocRef);\n    if (docSnap.exists()) {\n      return docSnap.data().content as string;\n    }\n    // Default templates\n    if (templateId === 'confirmation') return DEFAULT_CONFIRMATION_TEMPLATE;\n    if (templateId === 'cancellation') return DEFAULT_CANCELLATION_TEMPLATE;\n    if (templateId === 'adminContactCancellationRequest') return DEFAULT_ADMIN_CONTACT_CANCELLATION_TEMPLATE;\n    if (templateId === 'adminContactQuery') return DEFAULT_ADMIN_CONTACT_QUERY_TEMPLATE;\n    \n    return `Contenido predeterminado para ${templateId} no encontrado.`;\n  } catch (error) {\n    console.error(`Error fetching message template ${templateId}:`, error);\n    if (templateId === 'confirmation') return DEFAULT_CONFIRMATION_TEMPLATE;\n    if (templateId === 'cancellation') return DEFAULT_CANCELLATION_TEMPLATE;\n    if (templateId === 'adminContactCancellationRequest') return DEFAULT_ADMIN_CONTACT_CANCELLATION_TEMPLATE;\n    if (templateId === 'adminContactQuery') return DEFAULT_ADMIN_CONTACT_QUERY_TEMPLATE;\n    return `Error al cargar la plantilla para ${templateId}.`;\n  }\n}\n\nexport async function updateMessageTemplate(templateId: MessageTemplateId, content: string) {\n  try {\n    const templateDocRef = doc(messageTemplatesCollectionRef, templateId);\n    await setDoc(templateDocRef, { content });\n    revalidatePath('/admin/settings');\n    return { success: true, message: `Plantilla de mensaje de ${templateId} actualizada.` };\n  } catch (error) {\n    console.error(`Error updating message template ${templateId}:`, error);\n    return { success: false, message: `Error al actualizar la plantilla de ${templateId}.` };\n  }\n}\n\nexport async function getAdminPhoneNumber(): Promise<string | null> {\n  try {\n    const contactDetailsDocRef = doc(appSettingsCollectionRef, 'contactDetails');\n    const docSnap = await getDoc(contactDetailsDocRef);\n    if (docSnap.exists() && docSnap.data().adminPhoneNumber) {\n      return docSnap.data().adminPhoneNumber as string;\n    }\n    return null; \n  } catch (error) {\n    console.error(\"Error fetching admin phone number:\", error);\n    return null;\n  }\n}\n\nexport async function updateAdminPhoneNumber(phoneNumber: string) {\n  try {\n    const contactDetailsDocRef = doc(appSettingsCollectionRef, 'contactDetails');\n    await setDoc(contactDetailsDocRef, { adminPhoneNumber: phoneNumber }, { merge: true });\n    revalidatePath('/admin/settings');\n    return { success: true, message: 'Número de teléfono del administrador actualizado.' };\n  } catch (error) {\n    console.error(\"Error updating admin phone number:\", error);\n    return { success: false, message: 'Error al actualizar el número de teléfono del administrador.' };\n  }\n}\n\n\n    "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA0FsB;IA2CA;IAqBA;IAwDA;IA2FA;IAuFA;IA0CA;IA8BA;IAeA;IAkBA;IAqBA;IAsCA;IA2BA;IAqDA;IAgBA;IA2BA;IAuBA;IAyCA;IAcA;IAkCA;IAyBA;IAgDA;IAeA;IAmBA;IAqBA;IAwBA;IAYA;IAcA","debugId":null}},
    {"offset": {"line": 1212, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/header.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { siteConfig } from '@/config/site';\nimport { MainNav } from '@/components/layout/main-nav';\nimport { MobileNav } from '@/components/layout/mobile-nav';\nimport { Button } from '@/components/ui/button';\nimport { Scissors, LogOut, LogIn, UserPlus } from 'lucide-react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useToast } from '@/hooks/use-toast';\nimport React, { useEffect, useState } from 'react';\nimport { getSiteDetails } from '@/app/actions';\n\nexport function Header() {\n  const { currentUser, logout, loading } = useAuth();\n  const router = useRouter();\n  const { toast } = useToast();\n  const [dynamicSiteName, setDynamicSiteName] = useState(siteConfig.name);\n\n  useEffect(() => {\n    async function fetchSiteName() {\n      try {\n        const details = await getSiteDetails();\n        if (details && details.name) {\n          setDynamicSiteName(details.name);\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch site name for header:\", error);\n        // Fallback to static config name if there's an error\n        setDynamicSiteName(siteConfig.name);\n      }\n    }\n    fetchSiteName();\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      toast({ title: 'Cierre de sesión exitoso', description: 'Has cerrado sesión correctamente.' });\n      router.push('/');\n    } catch (error) {\n      console.error('Error al cerrar sesión:', error);\n      toast({ title: 'Error', description: 'No se pudo cerrar la sesión.', variant: 'destructive' });\n    }\n  };\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"container flex h-20 items-center justify-between\"> {/* Changed to justify-between */}\n        <Link href=\"/\" className=\"flex items-center space-x-2\"> {/* Removed mr-6 */}\n          <Scissors className=\"h-7 w-7 text-primary\" />\n          <span className=\"font-bold text-2xl font-headline text-primary\">{dynamicSiteName}</span>\n        </Link>\n        \n        {/* Wrapper for all right-aligned items */}\n        <div className=\"flex items-center space-x-2\">\n          {/* Desktop Navigation - hidden on mobile */}\n          <MainNav items={siteConfig.mainNav} /> \n          \n          {/* Desktop Auth Buttons - hidden on mobile */}\n          <div className=\"hidden md:flex items-center space-x-2\">\n            {loading ? (\n              <Button variant=\"outline\" className=\"border-primary text-primary\" disabled>\n                Cargando...\n              </Button>\n            ) : currentUser ? (\n              <Button variant=\"outline\" className=\"border-primary text-primary hover:bg-primary/10 hover:text-primary\" onClick={handleLogout}>\n                <LogOut className=\"mr-2 h-4 w-4\" />\n                Cerrar Sesión\n              </Button>\n            ) : (\n              <>\n                <Button variant=\"ghost\" className=\"text-foreground/80\" asChild>\n                  <Link href=\"/login\">\n                    <LogIn className=\"mr-2 h-4 w-4\" />\n                    Iniciar Sesión\n                  </Link>\n                </Button>\n                <Button variant=\"default\" className=\"bg-primary text-primary-foreground hover:bg-primary/90\" asChild>\n                  <Link href=\"/register\">\n                    <UserPlus className=\"mr-2 h-4 w-4\" />\n                    Registrarse\n                  </Link>\n                </Button>\n              </>\n            )}\n          </div>\n          \n          {/* Mobile Navigation Trigger (Hamburger) - visible only on mobile via its own internal classes */}\n          <MobileNav items={siteConfig.mainNav} />\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;;AAcO,SAAS;;IACd,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAC/C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,wHAAA,CAAA,aAAU,CAAC,IAAI;IAEtE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,UAAU,MAAM,CAAA,GAAA,wHAAA,CAAA,iBAAc,AAAD;oBACnC,IAAI,WAAW,QAAQ,IAAI,EAAE;wBAC3B,mBAAmB,QAAQ,IAAI;oBACjC;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,yCAAyC;oBACvD,qDAAqD;oBACrD,mBAAmB,wHAAA,CAAA,aAAU,CAAC,IAAI;gBACpC;YACF;YACA;QACF;2BAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI;YACF,MAAM;YACN,MAAM;gBAAE,OAAO;gBAA4B,aAAa;YAAoC;YAC5F,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;gBAAE,OAAO;gBAAS,aAAa;gBAAgC,SAAS;YAAc;QAC9F;IACF;IAEA,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;gBAAmD;8BAChE,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAI,WAAU;;wBAA8B;sCACrD,6LAAC,6MAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC;4BAAK,WAAU;sCAAiD;;;;;;;;;;;;8BAInE,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC,8IAAA,CAAA,UAAO;4BAAC,OAAO,wHAAA,CAAA,aAAU,CAAC,OAAO;;;;;;sCAGlC,6LAAC;4BAAI,WAAU;sCACZ,wBACC,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,WAAU;gCAA8B,QAAQ;0CAAC;;;;;uCAGzE,4BACF,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,WAAU;gCAAqE,SAAS;;kDAChH,6LAAC,6MAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;oCAAiB;;;;;;qDAIrC;;kDACE,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,WAAU;wCAAqB,OAAO;kDAC5D,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;;8DACT,6LAAC,2MAAA,CAAA,QAAK;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;kDAItC,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAU,WAAU;wCAAyD,OAAO;kDAClG,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;;8DACT,6LAAC,iNAAA,CAAA,WAAQ;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;sCAS/C,6LAAC,gJAAA,CAAA,YAAS;4BAAC,OAAO,wHAAA,CAAA,aAAU,CAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAK9C;GAjFgB;;QAC2B,iIAAA,CAAA,UAAO;QACjC,qIAAA,CAAA,YAAS;QACN,+HAAA,CAAA,WAAQ;;;KAHZ","debugId":null}},
    {"offset": {"line": 1460, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/footer.tsx"],"sourcesContent":["'use client';\n\nimport { siteConfig } from '@/config/site'; // Keep for fallback or static parts\nimport { Mail, MapPin, Phone } from 'lucide-react';\nimport React, { useEffect, useState } from 'react';\nimport { getSiteDetails } from '@/app/actions';\n\nexport function Footer() {\n  const [dynamicSiteName, setDynamicSiteName] = useState(siteConfig.name);\n\n  useEffect(() => {\n    async function fetchSiteName() {\n      try {\n        const details = await getSiteDetails();\n        if (details && details.name) {\n          setDynamicSiteName(details.name);\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch site name for footer:\", error);\n        // Fallback to static config name if there's an error\n        setDynamicSiteName(siteConfig.name);\n      }\n    }\n    fetchSiteName();\n  }, []);\n\n  return (\n    <footer className=\"bg-secondary text-secondary-foreground\">\n      <div className=\"container py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div>\n            <h3 className=\"text-xl font-headline font-semibold text-primary mb-4\">{dynamicSiteName}</h3>\n            <p className=\"text-sm\">Joaco calidad de servicio</p>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-headline font-semibold mb-4\">Contacto</h3>\n            <ul className=\"space-y-2 text-sm\">\n              <li className=\"flex items-center\">\n                <MapPin className=\"h-5 w-5 mr-2 text-primary\" />\n                Av. Corrientes 1234, Buenos Aires, Argentina\n              </li>\n              <li className=\"flex items-center\">\n                <Phone className=\"h-5 w-5 mr-2 text-primary\" />\n                +54 11 1234 5678\n              </li>\n              <li className=\"flex items-center\">\n                <Mail className=\"h-5 w-5 mr-2 text-primary\" />\n                contacto@joacobarber.com\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-headline font-semibold mb-4\">Horarios</h3>\n            <ul className=\"space-y-2 text-sm\">\n              <li>Lunes - Viernes: 9:00 AM - 5:00 PM</li>\n              <li>Sabado - Domingo: 10:00 AM - 6:00 PM</li>\n              <li></li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"mt-8 border-t border-border pt-8 text-center text-sm\">\n          <p>&copy; {new Date().getFullYear()} {dynamicSiteName}.Derechos reservados a snawDEV Studio.</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA,kNAA4C,oCAAoC;AAChF;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,wHAAA,CAAA,aAAU,CAAC,IAAI;IAEtE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,UAAU,MAAM,CAAA,GAAA,wHAAA,CAAA,iBAAc,AAAD;oBACnC,IAAI,WAAW,QAAQ,IAAI,EAAE;wBAC3B,mBAAmB,QAAQ,IAAI;oBACjC;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,yCAAyC;oBACvD,qDAAqD;oBACrD,mBAAmB,wHAAA,CAAA,aAAU,CAAC,IAAI;gBACpC;YACF;YACA;QACF;2BAAG,EAAE;IAEL,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAyD;;;;;;8CACvE,6LAAC;oCAAE,WAAU;8CAAU;;;;;;;;;;;;sCAEzB,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA2C;;;;;;8CACzD,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC,6MAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;gDAA8B;;;;;;;sDAGlD,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC,uMAAA,CAAA,QAAK;oDAAC,WAAU;;;;;;gDAA8B;;;;;;;sDAGjD,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC,qMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;gDAA8B;;;;;;;;;;;;;;;;;;;sCAKpD,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA2C;;;;;;8CACzD,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;;;;;;;;;;;;;;;;;;;;;;;8BAIP,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;;4BAAE;4BAAQ,IAAI,OAAO,WAAW;4BAAG;4BAAE;4BAAgB;;;;;;;;;;;;;;;;;;;;;;;AAKhE;GA3DgB;KAAA","debugId":null}},
    {"offset": {"line": 1700, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,oKAAA,CAAA,WAAwB;AAE9C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,oKAAA,CAAA,WAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAI3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,oKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,SAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAA,CAAA,SAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,oKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1835, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAE1B,qBACE,6LAAC,oIAAA,CAAA,gBAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,oIAAA,CAAA,QAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,oIAAA,CAAA,aAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,oIAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,oIAAA,CAAA,aAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,oIAAA,CAAA,gBAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,+HAAA,CAAA,WAAQ;;;KADb","debugId":null}}]
}